!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../bower_components/hammerjs/hammer.js"),s=i(a),u=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i.resizable,a=void 0===o?!0:o,s=i.width,u=i.height,c=i.eventListener;return r(this,t),this._pixelRadio=function(){var t=document.createElement("canvas").getContext("2d"),e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}(),this.container=n,this.container.canvas?this.container.canvas:(this.container.canvas=this,this._width=s,this._height=u,this._eventListener=c,this._charts=[],this._currentChartIndex=0,void(!a||s&&u||(window.onresize=function(){return e.resize()})))}return o(t,[{key:"resize",value:function(){var t=this._width||this.container.clientWidth,e=this._height;e||(e=document.documentElement.clientHeight,this.container.style.height=e+"px"),(t!==this.canvasWidth||e!==this.canvasHeight)&&(this.canvasWidth=t,this.canvasHeight=e,this.redraw())}},{key:"initCanvas",value:function(){var t=this._canvas,e=this._ctx;t||(t=this._canvas=document.createElement("canvas"),t.style.position="absolute",t.style.top=0,t.style.left=0,this.container.style.overflow="hidden",this.container.appendChild(t),e=this._ctx=t.getContext("2d"),this.bindEvent());var n=this.container.clientWidth,i=this.container.clientHeight;if(i||(i=document.documentElement.clientHeight,this.container.style.height=i+"px"),0!==n&&0!==i){var r=this.canvasWidth=this._width||n,o=this.canvasHeight=this._height||i,a=this._pixelRadio;t.width=r*a,t.height=o*a,t.style.width=r+"px",t.style.height=o+"px",e.scale(a,a)}}},{key:"redraw",value:function(){this.initCanvas();var t=this.getCurrentChart();t&&t.redraw()}},{key:"getCurrentChart",value:function(){return this._charts[this._currentChartIndex]}},{key:"show",value:function(t){if(t){var e=this._charts.indexOf(t);e>=0?this._currentChartIndex=e:(this._currentChartIndex=this._charts.length,this.addChart(t))}this.redraw()}},{key:"hasChart",value:function(t){return this._charts.indexOf(t)>=0}},{key:"addChart",value:function(t){var e=this._charts.indexOf(t);0>e&&(this._charts.push(t),t.setCanvas(this))}},{key:"removeChart",value:function(t){var e=void 0;e="number"==typeof t?t:this._charts.indexOf(t),e>=0&&(this.clear(),this._currentChartIndex=0,this._charts.splice(e,1))}},{key:"reset",value:function(){this._charts=[],this._currentChartIndex=0,this.clear()}},{key:"clear",value:function(){this._ctx&&this._ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"bindEvent",value:function(){var t=this,e=new s["default"].Manager(this._canvas,{});e.add(new s["default"].Pan({threshold:10,direction:s["default"].DIRECTION_ALL})),e.add(new s["default"].Press({time:500})),e.add(new s["default"].Pinch);var n=0,i=1,r=!1;e.on("panstart",function(e){n=0,t._eventListener&&t._eventListener(e)}),e.on("panmove panend",function(e){var i=t.getCurrentChart(),o=e.deltaX-n;"panend"===e.type&&(r=!1,o=n=0);var a=i&&i.panMove(r,e.center.x,e.center.y,o);a&&(n+=o),t._eventListener&&t._eventListener(e)}),e.on("press pressup",function(e){r="press"===e.type;var n=t.getCurrentChart();n&&n.panMove(r,e.center.x,e.center.y),t._eventListener&&t._eventListener(e)}),e.on("pinchstart",function(){i=1,t._eventListener&&t._eventListener(event)}),e.on("pinchmove",function(e){if(!r){var n=t.getCurrentChart(),o=n&&n.pinchMove(i-e.scale);o&&(i=e.scale)}t._eventListener&&t._eventListener(e)})}},{key:"toggleMask",value:function(t){var e=this._mask;if(!e){e=this._mask=document.createElement("div"),e["class"]="load-mask";var n=e.style;n.position="absolute",n.top=n.left=n.right=n.bottom=0,n.zIndex=100,n.backgroundColor="rgba(255,255,255,0.5)",this.container.appendChild(e),"|absolute|relative|fix".indexOf(this.container.style.position)<=0&&(this.container.style.position="relative");var i=document.createElement("div"),r=i.style;r.position="absolute",r.marginLeft="-60px",r.top="30%",r.left="50%",r.fontSize="14px",r.textAlign="center",r.padding="4px 8px",r.border="1px solid #333",r.color="#333",i.innerHTML="加载数据中,请稍后",e.appendChild(i)}e.style.display=t?"block":"none"}},{key:"drawLine",value:function(t,e,n,i,r,o){var a=this._ctx;a.beginPath(),a.lineWidth=r,a.strokeStyle=o,a.moveTo(this._normalizeDrawLinePoint(t),this._normalizeDrawLinePoint(e)),a.lineTo(this._normalizeDrawLinePoint(n),this._normalizeDrawLinePoint(i)),a.stroke()}},{key:"drawText",value:function(t,e,n,i,r){var o=arguments.length<=5||void 0===arguments[5]?null:arguments[5],a=this._ctx,s=this.measureText(t);e=Math.min(Math.max(e,0),this.canvasWidth-s),o&&(a.fillStyle=o,a.fillRect(e-2,n+2,s+4,-(i+4))),a.font=i+"px Arial",a.fillStyle=r,a.fillText(t,e,n)}},{key:"fillPath",value:function(t,e,n,i){var r=arguments.length<=4||void 0===arguments[4]?1:arguments[4],o=this._ctx;o.beginPath(),t.forEach(function(t,e){0===e?o.moveTo(t[0],t[1]):o.lineTo(t[0],t[1])}),o.lineWidth=r,o.strokeStyle=n,o.lineJoin="round",o.stroke(),t.length>1?(o.lineWidth=0,o.lineTo(t[t.length-1][0],e),o.lineTo(t[0][0],e),o.closePath(),o.fillStyle=i,o.fill()):o.closePath()}},{key:"drawPath",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],i=this._ctx;i.beginPath(),i.lineJoin="round",i.lineWidth=n;var r=i.strokeStyle=e;t.forEach(function(t,n){r=t[2]===!1?"transparent":e,i.strokeStyle!==r.toLowerCase()&&(i.stroke(),i.closePath(),i.beginPath(),i.strokeStyle=r),0===n?i.moveTo(t[0],t[1]):i.lineTo(t[0],t[1])}),i.stroke(),i.closePath()}},{key:"drawRect",value:function(t,e,n,i,r){var o=this._ctx;o.fillStyle=r,o.fillRect(t,e,n,i)}},{key:"drawCircle",value:function(t,e,n,i){var r=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments[5],a=this._ctx;a.beginPath(),a.arc(t,e,n,0,2*Math.PI),a.closePath(),a.fillStyle=i,a.lineWidth=r,a.strokeStyle=o,a.fill()}},{key:"_normalizeDrawLinePoint",value:function(t){if(1===this._pixelRadio){var e=parseInt(t);return e>t?e-.5:e+.5}return t}},{key:"measureText",value:function(t){return this._ctx.measureText(t).width}}]),t}();n["default"]=u},{"../../bower_components/hammerjs/hammer.js":7}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.dataProvider=e,this._options=n}return r(t,null,[{key:"formatNumber",value:function(t,e,n,i){null==t&&(t=0);var r=Number(t);if((0===r||isNaN(r))&&i!==!1)return i||"--";switch(n=n||"",e=null!=e?e:2,"K/M"===n&&(n=r>=1e7?"M":r>=1e4?"K":""),n){case"%":r=100*r;break;case"K":r/=1e3;break;case"M":r/=1e6;break;case 100:r/=100,n=""}return r.toFixed(e)+n}},{key:"formatDate",value:function(t,e){var n=void 0,i=void 0,r=void 0;r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()},/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(i in r)n=r[i],new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n:("00"+n).substr((""+n).length)));return e}}]),r(t,[{key:"noop",value:function(){}},{key:"initData",value:function(){var t=this._options.drawTooltip;this.drawTooltip=t===!1?this.noop:"function"==typeof t?t:this.drawTooltip,this.hasVolume=this._options.hasVolume||!0,this.fontSize=this._options.fontSize||10,this.upColor=this._options.upColor||"red",this.downColor=this._options.downColor||"green",this.timeAxisHeight=this.fontSize+4,this.separatorWidth=1,this.gridLineWidth=.5,this.gridLineColor="#ddd",this.tickColor="#555",this.tickBackgroundColor="#eee",this.pointerLineColor="#999"}},{key:"setCanvas",value:function(t){this.canvas||(this.canvas=t,this.initData())}},{key:"show",value:function(){this.canvas&&this.canvas.show(this)}},{key:"remove",value:function(){this.canvas&&this.canvas.remove(this)}},{key:"redraw",value:function(){this.canvas&&this.canvas.getCurrentChart()===this&&this.canvas.canvasWidth&&this.canvas.canvasHeight&&(this.canvas.clear(),this.initChart(),this.drawBackground(),this.drawChart(),this.drawAxisTicks(),this.canvas&&this.canvas.toggleMask(!1))}},{key:"initChart",value:function(){this._yAxisTicks=[];var t=this.timeAxisHeight,e=this.hasVolume,n=this.canvas.canvasHeight-t;e?(this.mainChartHeight=.7*n,this.volumeChartHeight=.3*n):(this.mainChartHeight=n,this.volumeChartHeight=0)}},{key:"drawBackground",value:function(){console.warn("not implemented")}},{key:"drawChart",value:function(){console.warn("not implemented")}},{key:"drawAxisTicks",value:function(){var t=this,e=this._yAxisTicks;e&&!function(){var n=t.canvas,i=t.fontSize,r=t.tickBackgroundColor;e.forEach(function(t){n.drawText(t.text,t.x,t.y,i,t.tickColor,t.withBackground&&r)})}()}},{key:"formatYAxisLabel",value:function(e){return t.formatNumber(e,2,"K/M",!1)}},{key:"formatXAxisLabel",value:function(t){return t}},{key:"getColor",value:function(t){return t?this.upColor:this.downColor}},{key:"drawYAxisGridLine",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?this.gridLineColor:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"top":arguments[3],r=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],o=arguments.length<=5||void 0===arguments[5]?this.tickColor:arguments[5];if(this.canvas.drawLine(0,t,this.canvas.canvasWidth,t,this.gridLineWidth,n),e){var a=this._yAxisTicks;a.push({text:this.formatYAxisLabel(e),x:0,y:"top"===i?t-2:t+this.fontSize+2,tickColor:o,withBackground:r})}}},{key:"drawXAxisGridLine",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?this.gridLineColor:arguments[2],i=arguments.length<=3||void 0===arguments[3]?"middle":arguments[3],r=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],o=arguments.length<=5||void 0===arguments[5]?!1:arguments[5],a=arguments.length<=6||void 0===arguments[6]?this.tickColor:arguments[6];if(this.canvas.drawLine(t,0,t,o?this.canvas.canvasHeight:this.mainChartHeight,this.gridLineWidth,n),e){var s=this.canvas.measureText(e),u=this.fontSize,c="middle"===i?t-s/2:t,h=this.mainChartHeight+u+2;this.canvas.drawText(e,c,h,u,a,r&&this.tickBackgroundColor)}}},{key:"panMove",value:function(t,e,n,i){}},{key:"pinchMove",value:function(t){}}]),t}();n["default"]=o},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0}),t("core-js/fn/array/find"),t("core-js/fn/array/find-index");var u=t("core-js/fn/promise"),c=i(u),h=t("connection"),l=i(h),f=void 0,d={_MIN_DATA_KEY:"MIN_DATA_KEY",get:function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return null}},set:function(t,e){localStorage.setItem(t,JSON.stringify(e))},getMin:function(t){return(this.get(this._MIN_DATA_KEY)||[]).find(function(e){return e.obj===t})},setMin:function(t,e){e.obj=t;var n=this.get(this._MIN_DATA_KEY)||[],i=n.findIndex(function(e){return e.obj===t});i>=0?n.splice(i,1,e):(n.push(e),n=n.slice(0,10)),this.set(this._MIN_DATA_KEY,n)}},p=6e4,v=1440*p,g=function(){var t=new Date,e=t.getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),r=[e,n,i].join("");return{RiQi:r,JiaoYiShiJianDuan:[{KaiShiShiJian:"0930",JieShuShiJian:"1130",KaiShiRiQi:r,JieShuRiQi:r},{KaiShiShiJian:"1300",JieShuShiJian:"1500",KaiShiRiQi:r,JieShuRiQi:r}],JiHeJingJiaDianShu:15,ShiQu:8,ZuoShou:0}}(),m=function(t,e,n){t+="";var i=parseInt(t.substr(0,4)),r=parseInt(t.substr(4,2))-1,o=parseInt(t.substr(6,2)),a=parseInt(e/100)-n,s=e%100;return Date.UTC(i,r,o,a,s)},_=function(){function t(e){r(this,t),this.params=e,this._requests={},t._instances.push(this)}return s(t,null,[{key:"convertToJsonArray",value:function(e){if(!e||!e.head)return e;var n=e.head,i=e.data;return i.map(function(e){var i={};return e.forEach(function(e,r){i[n[r]]=t.convertToJsonArray(e)}),i})}},{key:"arrayBufferToString",value:function(t){var e=new Uint8Array(t),n=e.length;if(n>65535){var i=0,r=[];do{var o=e.subarray(i,i+=65535);r.push(String.fromCharCode.apply(null,o))}while(n>i);return decodeURIComponent(escape(r.join("")))}return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}}]),s(t,[{key:"_getRequestUrl",value:function(e,n,i,r){var o=a({qid:i,sub:r,output:t.dataType||"json"},n),s=Object.keys(o),u=s.map(function(t){return[t,o[t]].join("=")}).join("&");return e+"?"+u}},{key:"request",value:function e(n,i){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments[3],a=t._currentQid++,s=this._getRequestUrl(n,i,a,r?1:0),e={qid:a,message:s,subscribe:r,callback:o,cancel:this.cancel.bind(this,a)};return this._requests[a]=e,this.send(s),e}},{key:"send",value:function(t){f.request(t)}},{key:"cancel",value:function(t){this.send("/cancel?qid="+t)}},{key:"getKline",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=new c["default"](function(i,r){n.request("/quote/kline",a({},n.params,{start:t,count:e}),!1,function(t){t instanceof Error?r(t):i(t[0]&&t[0].Data)})});return c["default"].all([r,i&&this.getMA(t,e)]).then(function(t){var e=o(t,2),n=e[0],i=e[1];return n&&i&&!function(){var t=0,e=i.length;n.forEach(function(n){for(var r=n.ShiJian;e>t;){var o=i[t],s=o.ShiJian,u=o.JieGuo;if(s>r)break;s===r&&a(n,{MA5:u[0],MA10:u[1],MA20:u[2],MA30:u[3]}),t++}})}(),n})}},{key:"subscribeKline",value:function(t){var e=this;return this.request("/quote/kline",a({},this.params,{start:-1}),!0,function(n){n instanceof Error||!function(){var i=n[0]&&n[0].Data;e.getMA(-1).then(function(e){if(i&&e&&i[0]&&e[0]&&i[0].ShiJian===e[0].ShiJian){var n=e[0].JieGuo;a(i[0],{MA5:n[0],MA10:n[1],MA20:n[2],MA30:n[3]})}t(i)})}()})}},{key:"getMA",value:function(t,e){var n=this;return new c["default"](function(i,r){n.request("/indicator/calc",a({name:"MA",parameter:"5,10,20,30"},n.params,{start:t,count:e}),!1,function(t){t instanceof Error?r(t):i(t[0]&&t[0].ShuJu)})})}},{key:"_initMinCache",value:function(t){var e=t.JiaoYiShiJianDuan,n=t.ShiQu;this.minCache={lastClose:t.ZuoShou};var i=this.minCache.minTimes=[];e&&e.length>0&&!function(){var r=0,o=void 0,a=void 0;e.forEach(function(t,e){for(o=m(t.KaiShiRiQi,t.KaiShiShiJian,n),a=m(t.JieShuRiQi,t.JieShuShiJian,n),o>a&&(a+=v),r>o&&(o+=v,a+=v),e>0&&(o+=p);a>=o;)i.push(o),o+=p;r=a});var s=t.JiHeJingJiaDianShu||0;o=i[0];for(var u=1;s>=u;u++)i.unshift(o-u*p)}()}},{key:"_updateMinCache",value:function(t,e){var n=this.minCache.minTimes||[],i=this.minCache.minTimes.indexOf(t);if(i>=0)this.minCache[t]=e;else{var r=n[0],o=parseInt((t-r)/v),a=o*v;if(i=n.indexOf(t-a),i>=0){for(;i<n.length;){var s=n[i];s+=a,n[i]=s,i++}this.minCache[t]=e}}}},{key:"subscribeMin",value:function(t){var e=this;this.minCache=null;var n=d.getMin(this.params.obj);return n&&setTimeout(function(){return t(n)}),this.request("/quote/min",a({},this.params),!0,function(n){n&&!(n instanceof Error)&&n.length>0&&(n=n[0],1===n.QingPan&&(e.minCache=null),e.minCache||e._initMinCache(n.JiaoYiShiJianDuan?n:g),n=n.Data,n&&n.length>0&&n.forEach(function(t){var n=1e3*t.ShiJian;e._updateMinCache(n,t)}),t(e.minCache),d.setMin(e.params.obj,e.minCache))})}}],[{key:"formatData",value:function(e){return e.JsonTbl?(e=t.convertToJsonArray(e.JsonTbl)[0],e[Object.keys(e)[0]]):e.hasOwnProperty("Id")?(delete e.Id,delete e.Obj,e[Object.keys(e)[0]]):e}}]),t}();_._instances=[],_._currentQid=0,n["default"]=_,_.init=function(t,e,n){e&&t.indexOf("token")<0&&(t=[t,e].join("?token=")),_.dataType=n,f=(0,l["default"])(t,{},{message:function(t){if(t instanceof ArrayBuffer)try{t=_.arrayBufferToString(t)}catch(e){console.error(e)}if("string"==typeof t)try{!function(){var e=JSON.parse(t),n=e.Qid,i=e.Err,r=void 0===i?0:i,o=e.Data;n&&_._instances.some(function(t){var e=t._requests[n];return e?(e.callback(0===r?_.formatData(o):new Error(JSON.stringify(o))),!0):void 0})}()}catch(e){console.error(e)}}})}},{connection:8,"core-js/fn/array/find":18,"core-js/fn/array/find-index":17,"core-js/fn/promise":20}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)};Object.defineProperty(n,"__esModule",{value:!0}),t("core-js/fn/math/sign");var c=t("./Chart.js"),h=i(c),l=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"initData",value:function(){var t=this;u(Object.getPrototypeOf(e.prototype),"initData",this).call(this),this.data=this._options.data||[],this.cache=[].concat(this.data),this.maxCount=this._options.maxCount||Number.MAX_VALUE,this.minCount=this._options.minCount||10,this.maxPreLoadCount=this._options.maxPreLoadCount||200,this.position=0,this.hasMoreData=!0,this.reCalculate(0,this._options.initCount||80);var n=this.dataProvider.subscribeKline(function(e){return t.canvas.hasChart(t)?void(e.length>0&&(e=e[0],t.cache.length>0&&(t.cache[t.cache.length-1]=e),t.reCalculate())):void n.cancel()})}},{key:"redraw",value:function(){this.data.length>0&&u(Object.getPrototypeOf(e.prototype),"redraw",this).call(this)}},{key:"initChart",value:function(){u(Object.getPrototypeOf(e.prototype),"initChart",this).call(this);var t=this.data.length,n=this.separatorWidth,i=this.canvas.canvasWidth/t-n;1>i&&(t=parseInt(this.canvas.canvasWidth/(1+n)),this.data=this.data.slice(0,t),i=1,this.maxCount=t),this.pixelPer=i,this.pixelPerWithSeparator=i+n;var r=Number.MAX_VALUE,o=Number.MIN_VALUE,a=r,s=0,c=0;this.data.forEach(function(t){s=Math.max(s,t.ZuiGaoJia||o,t.MA5||o,t.MA10||o,t.MA20||o,t.MA30||o),a=Math.min(a,t.ZuiDiJia||r,t.MA5||r,t.MA10||r,t.MA20||r,t.MA30||r),c=Math.max(c,t.ChengJiaoLiang)}),this.max=s>a?s+.1*(s-a):1.1*s,this.min=s>a?a-.1*(s-a):.9*s,this.maxVolume=c,this.candleChartHeight=this.mainChartHeight,this.candleYPixelRadio=this.candleChartHeight/(this.max-this.min),this.volumeYPixelRadio=this.volumeChartHeight/c}},{key:"formatXAxisLabel",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=new Date(t);return e?h["default"].formatDate(n,"yyyy-MM-dd"):h["default"].formatDate(n,"yyyy-MM")}},{key:"isUp",value:function(t,e,n){return t!==e?e>t:e>n}},{key:"drawChart",value:function(){var t=this,e=void 0,n=void 0,i=0,r=[[],[],[],[]];this.data.forEach(function(o,a){var s=o.lastClose;if(s||(s=o.lastClose=a>0?t.data[a-1].ShouPanJia:0,o.time=1e3*o.ShiJian,o.isUp=t.isUp(o.KaiPanJia,o.ShouPanJia,s),o.xAxisLabel=t.formatXAxisLabel(o.time)),n=o.xAxisLabel,n!==e&&(e=n,(a-i)*t.pixelPerWithSeparator>50&&(t.drawXAxisGridLine(t.pixelPerWithSeparator*a+t.pixelPer/2,n),i=a)),t.drawCandle(a,o.KaiPanJia,o.ShouPanJia,o.ZuiGaoJia,o.ZuiDiJia,o.isUp),t.hasVolume&&t.drawVolume(a,o.ChengJiaoLiang,o.isUp),o.MA5){var u=t.pixelPerWithSeparator*a+t.pixelPer/2;0===a?u-=t.pixelPer/2:a===t.data.length-1&&(u+=t.pixelPer/2),r[0].push([u,t.candleYPixelRadio*(t.max-o.MA5)]),r[1].push([u,t.candleYPixelRadio*(t.max-o.MA10)]),r[2].push([u,t.candleYPixelRadio*(t.max-o.MA20)]),r[3].push([u,t.candleYPixelRadio*(t.max-o.MA30)])}});var o=["#FFD11E","#F77BFC","#39C2FD","#B7B7B7"];if(r.forEach(function(e,n){t.canvas.drawPath(e,o[n])}),this.pressPoint){var a=this.pressPoint,s=a.x,u=a.y,c=parseInt(s/this.pixelPerWithSeparator),h=this.data[c]||{};this.drawXAxisGridLine(this.pixelPerWithSeparator*c+this.pixelPer/2,this.formatXAxisLabel(h.time,!0),this.pointerLineColor,void 0,!0,!0),u<this.candleChartHeight&&u>0&&this.drawYAxisGridLine(u,this.max-u/this.candleYPixelRadio,this.pointerLineColor,u>this.candleChartHeight/2?"top":"bottom",!0),this.drawTooltip(h)}}},{key:"drawTooltip",value:function(t){var e=this,n=50,i=this.fontSize,r=i+2,o=this.getColor(this.isUp(t.KaiPanJia,t.ShouPanJia,t.lastClose));[{label:"日期:"+this.formatXAxisLabel(t.time,!0),labelColor:"#555"},{label:"开:"+h["default"].formatNumber(t.KaiPanJia,2)},{label:"收:"+h["default"].formatNumber(t.ShouPanJia,2)},{label:"高:"+h["default"].formatNumber(t.ZuiGaoJia,2)},{label:"低:"+h["default"].formatNumber(t.ZuiDiJia,2)},{label:"涨跌:"+h["default"].formatNumber((t.ShouPanJia-t.lastClose)/t.lastClose,2,"%"),labelColor:this.getColor(t.ShouPanJia>=t.lastClose)},{label:"量:"+h["default"].formatNumber(t.ChengJiaoLiang,2,"K/M")}].forEach(function(t){var a=t.label,s=t.labelColor,u=void 0===s?o:s;e.canvas.drawText(a,n,r,i,u),n+=e.canvas.measureText(a)+10})}},{key:"drawBackground",value:function(){var t=this.max,e=this.min;this.drawYAxisGridLine(0,t,null,"bottom"),this.drawYAxisGridLine(this.candleChartHeight,e),this.drawYAxisGridLine(this.candleChartHeight/2,t-(t-e)/2),this.drawYAxisGridLine(this.candleChartHeight/4,t-(t-e)/4),this.drawYAxisGridLine(3*this.candleChartHeight/4,t-3*(t-e)/4),this.drawYAxisGridLine(this.canvas.canvasHeight,"0"),this.drawYAxisGridLine(this.canvas.canvasHeight-this.volumeChartHeight,this.maxVolume,null,"bottom")}},{key:"drawCandle",value:function(t,e,n,i,r,o){var a=this.pixelPerWithSeparator*t,s=this.candleYPixelRadio*(this.max-e),u=this.pixelPer,c=e===n?1:this.candleYPixelRadio*(this.max-n)-s;c=Math.abs(c)<1?Math.sign(c):c;var h=this.getColor(o);u>1&&this.canvas.drawRect(a,s,u,c,h);var l=a+u/2,f=this.candleYPixelRadio*(this.max-i),d=this.candleYPixelRadio*(this.max-r);this.canvas.drawLine(l,f,l,d,1,h)}},{key:"drawVolume",value:function(t,e,n){var i=this.pixelPerWithSeparator*t,r=this.canvas.canvasHeight,o=this.pixelPer,a=-this.volumeYPixelRadio*e;this.canvas.drawRect(i,r,o,a,this.getColor(n))}},{key:"reCalculate",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments[1],i=0,r=this.data.length,o=this.cache.length,a=this.position;if(e>0)e>a?this.hasMoreData?i=e-a:a=0:a-=e;else if(0>e){var s=o-a-r;a+=s>-e?-e:s}if(n&&(n=Math.max(n,this.minCount)),r>n)a+=parseInt((r-n)/2),r=n;else if(n>r){n=Math.min(n,this.maxCount);var u=parseInt((n-r)/2);u+=Math.max(u-(o-a-r),0),u>a&&this.hasMoreData?i=u-a:(a=Math.max(a-u,0),r=n)}if(i>0){i+=Math.min(r||Number.MAX_VALUE,this.maxPreLoadCount);var c=-(i+o);return void this.loadMoreData(c,i).then(function(){t.reCalculate(e,n)})}this.data=this.cache.slice(a,a+r),this.position=a,this.redraw()}},{key:"loadMoreData",value:function(t,e){var n=this;this._loading=!0,this.canvas&&this.canvas.toggleMask(!0);var i=this.dataProvider;return this.dataProvider.getKline(t,e).then(function(t){if(t&&i===n.dataProvider){t.length<e&&(n.hasMoreData=!1);for(var r=n.cache[0]?n.cache[0].ShiJian:Number.MAX_VALUE,o=void 0,a=t.length;a>0;a--){if(o=t[a-1],!(o.ShiJian<r)){n.hasMoreData=!1;break}n.cache.unshift(o),n.position++}}n._loading=!1})}},{key:"panMove",value:function(t,e,n,i){if(!this._loading)if(t)this.pressPoint={x:e,y:n},this.redraw();else if(this.pressPoint)this.pressPoint=null,this.redraw();else{var r=parseInt(i/this.pixelPerWithSeparator);if(0!==r)return this.reCalculate(r),!0}}},{key:"pinchMove",value:function(t){if(!this._loading){var e=this.canvas.canvasWidth*t,n=parseInt(e/this.pixelPerWithSeparator);if(Math.abs(n)>1)return this.reCalculate(0,this.data.length+n),!0}}}]),e}(h["default"]);n["default"]=l},{"./Chart.js":2,"core-js/fn/math/sign":19}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Chart.js"),h=i(c),l=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"initData",value:function(){var t=this;u(Object.getPrototypeOf(e.prototype),"initData",this).call(this),this.cache=null,this.canvas&&this.canvas.toggleMask(!0);var n=this.dataProvider.subscribeMin(function(e){return t.canvas.hasChart(t)?(t.cache=e,void t.redraw()):void n.cancel()})}},{key:"initChart",value:function(){u(Object.getPrototypeOf(e.prototype),"initChart",this).call(this),this.hasAvgPrice=this._options.hasAvgPrice&&!0;var t=this.cache.lastClose,n=Number.MAX_VALUE,i=Number.MIN_VALUE,r=n,o=0,a=0;if(t){var s=0,c=void 0;for(var h in this.cache)c=this.cache[h],c&&c.ChengJiaoJia&&(s=Math.max(s,Math.abs(c.ChengJiaoJia-t)),a=Math.max(a,c.ChengJiaoLiang));o=t+s,r=t-s}else{var c=void 0;for(var h in this.cache)c=this.cache[h],c&&c.ChengJiaoJia&&(o=Math.max(o,c.ChengJiaoJia||i),r=Math.min(r,c.ChengJiaoJia||n),a=Math.max(a,c.ChengJiaoLiang))}this.max=o>r?o+.1*(o-r):1.1*o,this.min=o>r?r-.1*(o-r):.9*o,this.maxVolume=a,this.minChartHeight=this.mainChartHeight,this.minYPixelRadio=this.minChartHeight/(this.max-this.min),this.volumeYPixelRadio=this.volumeChartHeight/a,this.pixelPer=this.canvas.canvasWidth/this.cache.minTimes.length}},{key:"formatXAxisLabel",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=new Date(t);return e?h["default"].formatDate(n,"yyyy-MM-dd hh:mm"):h["default"].formatDate(n,"hh:mm")}},{key:"redraw",value:function(){this.cache&&u(Object.getPrototypeOf(e.prototype),"redraw",this).call(this)}},{key:"drawChart",value:function(){var t=this,e=this.cache.minTimes,n=this.pixelPer,i=[],r=[],o=this.cache.lastClose,a=this.hasAvgPrice,s=e.length>300?60:30,u=-100;if(e.forEach(function(c,h){var l=t.cache[c];if(l){var f=l.isUp=l.ChengJiaoJia>=o,d=n*h,p=d+n/2;l.ChengJiaoJia&&i.push([p,(t.max-l.ChengJiaoJia)*t.minYPixelRadio]),a&&l.JunJia&&r.push([p,(t.max-l.JunJia)*t.minYPixelRadio,!(l.JunJia>t.max||l.JunJia<t.min)]),t.hasVolume&&t.drawVolume(h,l.ChengJiaoLiang,f),o=l.ChengJiaoJia}var v=void 0;h>0&&c-e[h-1]>6e4&&u!==h-1?v=h-1:new Date(c).getMinutes()%s===0&&(v=h),v&&(v-u)*n>50&&(t.drawXAxisGridLine(n*v+n/2,t.formatXAxisLabel(e[v]),"#ddd"),u=v)}),this.canvas.fillPath(i,this.minChartHeight,"#0095D9","rgba(0, 149, 217, 0.2)"),a&&this.canvas.drawPath(r,"#EB5F15"),this.pressPoint){var c=this.pressPoint,h=c.x,l=c.y,f=parseInt(h/n),d=e[f],p=this.cache[d];if(p){h=n*f+n/2,this.drawXAxisGridLine(n*f+n/2,this.formatXAxisLabel(d),this.pointerLineColor,void 0,!0,!0);var v=p.ChengJiaoJia;l=(this.max-v)*this.minYPixelRadio,this.drawYAxisGridLine(l,v,this.pointerLineColor,l>this.minChartHeight/2?"top":"bottom",!0,this.getColor(p.ChengJiaoJia>=this.cache.lastClose)),this.canvas.drawCircle(h,l,3,"rgba(230, 100, 100, 0.8)"),this.drawTooltip(p)}}}},{key:"drawVolume",value:function(t,e,n){var i=this.pixelPer*t,r=this.canvas.canvasHeight,o=this.pixelPer;o-=o>2?1:.5;var a=-this.volumeYPixelRadio*e;this.canvas.drawRect(i,r,o,a,this.getColor(n))}},{key:"drawTooltip",value:function(t){var e=this,n=50,i=this.fontSize,r=i+2,o=this.cache.lastClose;[{label:"时间:"+this.formatXAxisLabel(1e3*t.ShiJian),labelColor:"#555"},{label:"价格:"+h["default"].formatNumber(t.ChengJiaoJia,2),labelColor:"#0095D9"},this.hasAvgPrice&&t.JunJia<=this.max&&t.JunJia>=this.min?{label:"均价:"+h["default"].formatNumber(t.JunJia,2),labelColor:"#EB5F15"}:void 0,{label:"涨跌:"+h["default"].formatNumber((t.ChengJiaoJia-o)/o,2,"%"),labelColor:this.getColor(t.ChengJiaoJia>=o)},{label:"成交量:"+h["default"].formatNumber(t.ChengJiaoLiang,2,"K/M"),labelColor:this.getColor(t.isUp)}].forEach(function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=t.label,a=t.labelColor;o&&(e.canvas.drawText(o,n,r,i,a),n+=e.canvas.measureText(o)+10)})}},{key:"drawBackground",value:function(){var t=this.cache.ZuoShou,n=this.max,i=this.min;this.drawYAxisGridLine(0,n,void 0,"bottom",void 0,this.getColor(!0)),this.drawYAxisGridLine(this.minChartHeight,i,void 0,void 0,void 0,this.getColor(!1)),this.drawYAxisGridLine(this.minChartHeight/2,t||n-(n-i)/2),this.drawYAxisGridLine(this.minChartHeight/4,n-(n-i)/4,void 0,void 0,void 0,this.getColor(!0)),this.drawYAxisGridLine(3*this.minChartHeight/4,n-3*(n-i)/4,void 0,void 0,void 0,this.getColor(!1)),u(Object.getPrototypeOf(e.prototype),"drawYAxisGridLine",this).call(this,this.canvas.canvasHeight,"0"),u(Object.getPrototypeOf(e.prototype),"drawYAxisGridLine",this).call(this,this.canvas.canvasHeight-this.volumeChartHeight,this.maxVolume,null,"bottom")}},{key:"drawYAxisGridLine",value:function(t,n){
var i=arguments.length<=2||void 0===arguments[2]?this.gridLineColor:arguments[2],r=arguments.length<=3||void 0===arguments[3]?"top":arguments[3],o=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],a=arguments.length<=5||void 0===arguments[5]?this.tickColor:arguments[5];if(u(Object.getPrototypeOf(e.prototype),"drawYAxisGridLine",this).call(this,t,n,i,r,o,a),n){var s=this._yAxisTicks,c=h["default"].formatNumber((n-this.cache.lastClose)/this.cache.lastClose,2,"%",!1);s.push({text:c,x:this.canvas.canvasWidth-this.canvas.measureText(c)-2,y:"top"===r?t-2:t+this.fontSize+2,tickColor:a,withBackground:o})}}},{key:"panMove",value:function(t,e,n){t?this.pressPoint={x:e,y:n}:this.pressPoint=null,this.redraw()}}]),e}(h["default"]);n["default"]=l},{"./Chart.js":2}],6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("./Canvas.js"),o=i(r),a=t("./KlineChart.js"),s=i(a),u=t("./MinChart.js"),c=i(u),h=t("./DataProvider.js"),l=i(h);window.Canvas=o["default"],window.KlineChart=s["default"],window.MinChart=c["default"],window.DataProvider=l["default"]},{"./Canvas.js":1,"./DataProvider.js":3,"./KlineChart.js":4,"./MinChart.js":5}],7:[function(t,e,n){!function(t,n,i,r){"use strict";function o(t,e,n){return setTimeout(h(t,n),e)}function a(t,e,n){return Array.isArray(t)?(s(t,n[e],n),!0):!1}function s(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function u(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,i),e.apply(this,arguments)}}function c(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ut(i,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==lt?t.apply(e?e[0]||r:r,e):t}function f(t,e){return t===r?e:t}function d(t,e,n){s(m(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(m(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];_(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function x(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),a=0;a<ct.length;){if(n=ct[a],i=n?n+o:e,i in t)return i;a++}return r}function w(){return mt++}function C(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function E(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:bt?H:xt?q:yt?X:I)(t,k)}function k(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&jt&&i-r===0,a=e&(Pt|At)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,j(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function j(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=A(e)),r>1&&!n.firstMultiple?n.firstMultiple=A(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=M(i);e.timeStamp=pt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=J(s,u),e.distance=R(s,u),S(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=O(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=dt(c.x)>dt(c.y)?c.x:c.y,e.scale=a?D(a.pointers,i):1,e.rotation=a?N(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var h=t.element;v(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===jt||o.eventType===Pt)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,i,o,a,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=At&&(u>kt||s.velocity===r)){var c=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,l=O(u,c,h);i=l.x,o=l.y,n=dt(l.x)>dt(l.y)?l.x:l.y,a=L(c,h),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=a}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ft(t.pointers[n].clientX),clientY:ft(t.pointers[n].clientY)},n++;return{timeStamp:pt(),pointers:e,center:M(e),deltaX:t.deltaX,deltaY:t.deltaY}}function M(t){var e=t.length;if(1===e)return{x:ft(t[0].clientX),y:ft(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:ft(n/e),y:ft(i/e)}}function O(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?Mt:dt(t)>=dt(e)?0>t?Ot:Lt:0>e?Rt:Jt}function R(t,e,n){n||(n=Ht);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function J(t,e,n){n||(n=Ht);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(t,e){return J(e[1],e[0],Yt)+J(t[1],t[0],Yt)}function D(t,e){return R(e[0],e[1],Yt)/R(t[0],t[1],Yt)}function I(){this.evEl=qt,this.evWin=Vt,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function H(){this.evEl=Ft,this.evWin=Gt,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=Ut,this.evWin=Kt,this.started=!1,E.apply(this,arguments)}function W(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(Pt|At)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function q(){this.evTarget=$t,this.targetIds={},E.apply(this,arguments)}function V(t,e){var n=y(t.touches),i=this.targetIds;if(e&(jt|St)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=y(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return v(t.target,u)}),e===jt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(Pt|At)&&delete i[a[r].identifier],r++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function X(){E.apply(this,arguments);var t=h(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new I(this.manager,t)}function z(t,e){this.manager=t,this.set(e)}function F(t){if(g(t,re))return re;var e=g(t,oe),n=g(t,ae);return e&&n?re:e||n?e?oe:ae:g(t,ie)?ie:ne}function G(t){this.options=ut({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=se,this.simultaneous={},this.requireFail=[]}function B(t){return t&fe?"cancel":t&he?"end":t&ce?"move":t&ue?"start":""}function U(t){return t==Jt?"down":t==Rt?"up":t==Ot?"left":t==Lt?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function Q(){G.apply(this,arguments)}function $(){Q.apply(this,arguments),this.pX=null,this.pY=null}function Z(){Q.apply(this,arguments)}function tt(){G.apply(this,arguments),this._timer=null,this._input=null}function et(){Q.apply(this,arguments)}function nt(){Q.apply(this,arguments)}function it(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=f(e.recognizers,rt.defaults.preset),new ot(t,e)}function ot(t,e){this.options=ut({},rt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=T(this),this.touchAction=new z(this,this.options.touchAction),at(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function at(t,e){var n=t.element;n.style&&s(t.options.cssProps,function(t,i){n.style[x(n.style,i)]=e?t:""})}function st(t,e){var i=n.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ut,ct=["","webkit","Moz","MS","ms","o"],ht=n.createElement("div"),lt="function",ft=Math.round,dt=Math.abs,pt=Date.now;ut="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var vt=u(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===r)&&(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),gt=u(function(t,e){return vt(t,e,!0)},"merge","Use `assign`."),mt=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,yt="ontouchstart"in t,bt=x(t,"PointerEvent")!==r,xt=yt&&_t.test(navigator.userAgent),wt="touch",Ct="pen",Et="mouse",Tt="kinect",kt=25,jt=1,St=2,Pt=4,At=8,Mt=1,Ot=2,Lt=4,Rt=8,Jt=16,Nt=Ot|Lt,Dt=Rt|Jt,It=Nt|Dt,Ht=["x","y"],Yt=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:jt,mousemove:St,mouseup:Pt},qt="mousedown",Vt="mousemove mouseup";c(I,E,{handler:function(t){var e=Wt[t.type];e&jt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Pt),this.pressed&&this.allow&&(e&Pt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Et,srcEvent:t}))}});var Xt={pointerdown:jt,pointermove:St,pointerup:Pt,pointercancel:At,pointerout:At},zt={2:wt,3:Ct,4:Et,5:Tt},Ft="pointerdown",Gt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ft="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),c(H,E,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Xt[i],o=zt[t.pointerType]||t.pointerType,a=o==wt,s=_(e,t.pointerId,"pointerId");r&jt&&(0===t.button||a)?0>s&&(e.push(t),s=e.length-1):r&(Pt|At)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Bt={touchstart:jt,touchmove:St,touchend:Pt,touchcancel:At},Ut="touchstart",Kt="touchstart touchmove touchend touchcancel";c(Y,E,{handler:function(t){var e=Bt[t.type];if(e===jt&&(this.started=!0),this.started){var n=W.call(this,t,e);e&(Pt|At)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:wt,srcEvent:t})}}});var Qt={touchstart:jt,touchmove:St,touchend:Pt,touchcancel:At},$t="touchstart touchmove touchend touchcancel";c(q,E,{handler:function(t){var e=Qt[t.type],n=V.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:wt,srcEvent:t})}}),c(X,E,{handler:function(t,e,n){var i=n.pointerType==wt,r=n.pointerType==Et;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Pt|At)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Zt=x(ht.style,"touchAction"),te=Zt!==r,ee="compute",ne="auto",ie="manipulation",re="none",oe="pan-x",ae="pan-y";z.prototype={set:function(t){t==ee&&(t=this.compute()),te&&this.manager.element.style&&(this.manager.element.style[Zt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),F(t.join(" "))},preventDefaults:function(t){if(!te){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=g(i,re),o=g(i,ae),a=g(i,oe);if(r){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return r||o&&n&Nt||a&&n&Dt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var se=1,ue=2,ce=4,he=8,le=he,fe=16,de=32;G.prototype={defaults:{},set:function(t){return ut(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=K(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;he>i&&e(n.options.event+B(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=he&&e(n.options.event+B(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=de)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(de|se)))return!1;t++}return!0},recognize:function(t){var e=ut({},t);return l(this.options.enable,[this,e])?(this.state&(le|fe|de)&&(this.state=se),this.state=this.process(e),void(this.state&(ue|ce|he|fe)&&this.tryEmit(e))):(this.reset(),void(this.state=de))},process:function(t){},getTouchAction:function(){},reset:function(){}},c(Q,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ue|ce),r=this.attrTest(t);return i&&(n&At||!r)?e|fe:i||r?n&Pt?e|he:e&ue?e|ce:ue:de}}),c($,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:It},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(ae),t&Dt&&e.push(oe),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&Nt?(r=0===o?Mt:0>o?Ot:Lt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Mt:0>a?Rt:Jt,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&ue||!(this.state&ue)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(Z,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ue)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),c(tt,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Pt|At)&&!r)this.reset();else if(t.eventType&jt)this.reset(),this._timer=o(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Pt)return le;return de},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Pt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),c(et,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ue)}}),c(nt,Q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|Dt,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|Dt)?e=t.overallVelocity:n&Nt?e=t.overallVelocityX:n&Dt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&dt(e)>this.options.velocity&&t.eventType&Pt},emit:function(t){var e=U(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(it,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ie]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&jt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Pt)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=o(function(){this.state=le,this.tryEmit()},e.interval,this),ue):le}return de},failTimeout:function(){return this._timer=o(function(){this.state=de},this.options.interval,this),de},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.6",rt.defaults={domEvents:!1,touchAction:ee,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[Z,{enable:!1},["rotate"]],[nt,{direction:Nt}],[$,{direction:Nt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var pe=1,ve=2;ot.prototype={set:function(t){return ut(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ve:pe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&le)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===ve||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ue|ce|he)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return s(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return s(m(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ut(rt,{INPUT_START:jt,INPUT_MOVE:St,INPUT_END:Pt,INPUT_CANCEL:At,STATE_POSSIBLE:se,STATE_BEGAN:ue,STATE_CHANGED:ce,STATE_ENDED:he,STATE_RECOGNIZED:le,STATE_CANCELLED:fe,STATE_FAILED:de,DIRECTION_NONE:Mt,DIRECTION_LEFT:Ot,DIRECTION_RIGHT:Lt,DIRECTION_UP:Rt,DIRECTION_DOWN:Jt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:It,Manager:ot,Input:E,TouchAction:z,TouchInput:q,MouseInput:I,PointerEventInput:H,TouchMouseInput:X,SingleTouchInput:Y,Recognizer:G,AttrRecognizer:Q,Tap:it,Pan:$,Swipe:nt,Pinch:Z,Rotate:et,Press:tt,on:d,off:p,each:s,merge:gt,extend:vt,assign:ut,inherit:c,bindFn:h,prefixed:x});var ge="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};ge.Hammer=rt,"function"==typeof define&&define.amd?define(function(){return rt}):"undefined"!=typeof e&&e.exports?e.exports=rt:t[i]=rt}(window,document,"Hammer")},{}],8:[function(t,e,n){t("./lib/HttpConnection"),t("./lib/WebSocketConnection"),e.exports=t("./lib/connection")},{"./lib/HttpConnection":10,"./lib/WebSocketConnection":12,"./lib/connection":15}],9:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,r,o){i(this,t),this._address=e,this.options=n||{},"boolean"==typeof r?(this._secure=r,this._handler=null):(this._secure=o||!1,this._handler=r),this._protocol="http",this._listenerMap={}}return r(t,[{key:"getAddress",value:function(){return this.getProtocol()+"://"+this._address.replace(/^(\w+:\/\/)?/,"")}},{key:"getProtocol",value:function(){return this._protocol+(this._secure?"s":"")}},{key:"request",value:function(t,e){}},{key:"send",value:function(t,e){this.request(t,e)}},{key:"close",value:function(){}},{key:"on",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]);n.indexOf(e)<0&&n.push(e)}return this}},{key:"off",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]),i=n.indexOf(e);i>=0&&n.splice(i,1)}return this}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o=this._listenerMap[t];return o&&o.forEach(function(t){return t.apply(e,i)}),this._handler&&"function"==typeof this._handler[t]&&this._handler[t].apply(this._handler,i),this}}]),t}();o.EVENT_OPEN="open",o.EVENT_CLOSE="close",o.EVENT_ERROR="error",o.EVENT_REQUEST="request",o.EVENT_SEND="send",o.EVENT_RESPONSE="response",o.EVENT_MESSAGE="message",o.EVENT_PROGRESS="progress",n["default"]=o,e.exports=n["default"]},{}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;s=c=u=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0}},u=t("./connection"),c=i(u),h=t("./BaseConnection"),l=i(h),f=t("./util"),d=t("./ajax"),p=i(d),v=function(t){function e(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,n),this._request=[]}return o(e,t),a(e,[{key:"request",value:function(t,e){var n=this;e=(0,f.extend)({},this.options,e),e.success=function(t,e,i){n.trigger(l["default"].EVENT_MESSAGE,t),n.trigger(l["default"].EVENT_RESPONSE,t)},e.error=function(t,e,i){n.trigger(l["default"].EVENT_ERROR,i)},e.complete=function(){var t=n._request.indexOf(i);n._request.splice(t,1)},e.url=this.getAddress()+(t?t:"");var i=(0,p["default"])(e);return i&&(i.onreadystatechange=function(t){return function(){2===i.readyState&&(n.trigger(l["default"].EVENT_SEND),n.trigger(l["default"].EVENT_REQUEST)),t&&t()}}(i.onreadystatechange)),this.trigger(l["default"].EVENT_OPEN),this._request.push(i),i.onprogress=function(t){n.trigger(l["default"].EVENT_PROGRESS,t)},this}},{key:"close",value:function(){var t=this;return this._request.forEach(function(e,n){e.abort(),t._request.splice(n,1)}),this.trigger(l["default"].EVENT_CLOSE),this}}]),e}(l["default"]);n["default"]=v,c["default"].http=function(t,e,n){return new v(t,e,n,!1)},c["default"].https=function(t,e,n){return new v(t,e,n,!0)},e.exports=n["default"]},{"./BaseConnection":9,"./ajax":14,"./connection":15,"./util":16}],11:[function(t,e,n){"use strict";if("undefined"!=typeof window)window.WebSocket?e.exports=window.WebSocket:console.log("当前浏览器不支持WebSocket");else{var i="ws";e.exports=t(i)}},{}],12:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;s=c=u=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0}},u=t("./connection"),c=i(u),h=t("./BaseConnection"),l=i(h),f=t("./WebSocket"),d=i(f),p=function(t){function e(t,n,i){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this._protocol="ws",this._ws=null;var o=n&&n.deferred===!0||!1;o===!1&&this._connect()}return o(e,t),a(e,[{key:"getStatus",value:function(){return this._ws?this._ws.readyState:d["default"].CLOSED}},{key:"_connect",value:function(){var t=this;if("undefined"==typeof d["default"])throw Error("Don't support WebSocket");this._ws=new d["default"](this.getAddress()),void 0===d["default"].OPEN&&(d["default"].CONNECTING=this._ws.CONNECTING,d["default"].OPEN=this._ws.OPEN,d["default"].CLOSING=this._ws.CLOSING,d["default"].CLOSED=this._ws.CLOSED),this._ws.binaryType=this.options.binaryType||this.options.dataType||"arraybuffer",this._ws.addEventListener("open",function(){t.trigger(l["default"].EVENT_OPEN)}),this._ws.addEventListener("error",function(){t.trigger(l["default"].EVENT_ERROR)}),this._ws.addEventListener("close",function(){t.trigger(l["default"].EVENT_CLOSE)}),this._ws.addEventListener("message",function(e){t.trigger(l["default"].EVENT_MESSAGE,e.data),t.trigger(l["default"].EVENT_RESPONSE,e.data)})}},{key:"request",value:function(t,e){var n=this;return t=t||"",this.getStatus()===d["default"].CLOSED&&this._connect(),this.getStatus()!==d["default"].OPEN?this._ws.addEventListener("open",function(){n._ws.send(t),n.trigger(l["default"].EVENT_SEND,t),n.trigger(l["default"].EVENT_REQUEST,t)}):(this._ws.send(t),this.trigger(l["default"].EVENT_SEND,t),this.trigger(l["default"].EVENT_REQUEST,t)),this}},{key:"close",value:function(){return this.getStatus()!==d["default"].CLOSED&&(this._ws.close(),this._ws=null),this}}]),e}(l["default"]);n["default"]=p,c["default"].ws=function(t,e,n){return new p(t,e,n,!1)},c["default"].wss=function(t,e,n){return new p(t,e,n,!0)},e.exports=n["default"]},{"./BaseConnection":9,"./WebSocket":11,"./connection":15}],13:[function(t,e,n){"use strict";if("undefined"!=typeof window)window.XMLHttpRequest?e.exports=window.XMLHttpRequest:console.log("当前浏览器不支持XMLHttpRequest");else{var i="xhr2",r=t(i);e.exports=r.XMLHttpRequest||r}},{}],14:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})}function o(t){if("undefined"==typeof ArrayBuffer)throw new Error("不支持ArrayBuffer类型");if(t.response instanceof ArrayBuffer)return t.response;for(var e=t.responseText,n=e.length,i=new ArrayBuffer(n),r=new Uint8Array(i),o=0;n>o;o++)r[o]=255&e.charCodeAt(o);return i}function a(t){if("undefined"==typeof Blob)throw new Error("不支持Blob类型");if(t.response instanceof Blob)return t.response;var e=o(t);return new Blob([e])}var s=t("./XMLHttpRequest"),u=i(s),c=t("./util");if("undefined"!=typeof $&&"function"==typeof $.ajax){var h=function(t,e,n){return{send:function(e,n){var i,s,u,c;c=t.xhr(),u=t.url,s=t.type,i=t.data||null,c.onload=function(){var e="arraybuffer"===t.dataType?o(c):a(c),i=r({},t.dataType,e);return n(c.status,c.statusText,i,c.getAllResponseHeaders())},c.onerror="error",function(t){return n(-1,t)},c.ontimeout=function(t){return n(-1,t)},c.open(s,u,!0);var h="string"==typeof c.responseType;h?c.responseType=t.dataType:c.overrideMimeType?c.overrideMimeType("text/plain; charset=x-user-defined"):c.setRequestHeader("Accept-Charset","x-user-defined");for(var l in e)c.setRequestHeader(l,e[l]);return c.send(i)},abort:function(){return n.abort()}}},l=$.ajaxSettings.xhr;$.support.cors=!0,$.ajaxSetup({xhr:function E(){var E=l();return this.setXHR(E),E},beforeSend:function(t,e){e.setXHR=function(e){e.abort=t.abort,t.xhr=e}},crossDomain:!0}),$.ajaxTransport("+arraybuffer",h),$.ajaxTransport("+blob",h),e.exports=function(){var t=$.ajax.apply($,[].slice.call(arguments));return t.xhr}}else{var f,d,p,v,g,m,_,y,b,x,w,C;!function(){var t=function(t,e,n){return!0},n=function(e,n,i,r){return e.global?t(n||p,i,r):void 0},i=function(t){t.global&&0===C.active++&&n(t,null,"ajaxStart")},r=function(t){t.global&&!--C.active&&n(t,null,"ajaxStop")},s=function(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,i,"ajaxSend",[t,e])},h=function(t,e,i){var r=i.context,o="success";i.success.call(r,t,o,e),n(i,r,"ajaxSuccess",[e,i,t]),E(o,e,i)},l=function(t,e,i,r){var o=r.context;r.error.call(o,i,e,t),n(r,o,"ajaxError",[i,r,t]),E(e,i,r)},E=function(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)},T=function(){},k=function(t){return t&&(t==x?"html":t==b?"json":_.test(t)?"script":y.test(t)&&"xml")||"text"},j=function(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")},S=function(t){"object"==typeof t.data&&(t.data=(0,c.param)(t.data)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=j(t.url,t.data))};f=0,d="undefined"==typeof window,p=!d&&window.document,m=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,_=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,b="application/json",x="text/html",w=/^\s*$/,C=e.exports=function(t){var e=(0,c.extend)({},t||{});for(v in C.settings)void 0===e[v]&&(e[v]=C.settings[v]);i(e),e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&!d&&!!window.location&&RegExp.$2!=window.location.host);var n=e.dataType,r=/=\?/.test(e.url);if("jsonp"==n||r)return r||(e.url=j(e.url,"callback=?")),C.JSONP(e);e.url||(e.url=!d&&!!window.location&&window.location.toString()),S(e);var u,f=e.accepts[n],p={},m=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:!d&&!!window.location&&window.location.protocol,_=C.settings.xhr();
e.crossDomain||(p["X-Requested-With"]="XMLHttpRequest"),f&&(p.Accept=f,f.indexOf(",")>-1&&(f=f.split(",",2)[0]),_.overrideMimeType&&_.overrideMimeType(f)),(e.contentType||e.data&&"GET"!=e.type.toUpperCase())&&(p["Content-Type"]=e.contentType||"application/x-www-form-urlencoded"),e.headers=(0,c.extend)(p,e.headers||{}),_.onreadystatechange=function(){if(4==_.readyState){clearTimeout(u);var t,i=!1;if(_.status>=200&&_.status<300||304==_.status||0==_.status&&"file:"==m){n=n||k(_.getResponseHeader("content-type"));try{"script"==n?(1,eval)(t):t="xml"==n?_.responseXML:"json"==n?w.test(_.responseText)?null:JSON.parse(_.responseText):"arraybuffer"===n?o(_):"blob"===n?a(_):_.responseText}catch(r){i=r}i?l(i,"parsererror",_,e):h(t,_,e)}else l(null,"error",_,e)}};var y="async"in e?e.async:!0;if(_.open(e.type,e.url,y),"arraybuffer"==n||"blob"==n){var b="string"==typeof _.responseType;b?_.responseType=t.dataType:_.overrideMimeType?_.overrideMimeType("text/plain; charset=x-user-defined"):_.setRequestHeader("Accept-Charset","x-user-defined")}for(g in e.headers)_.setRequestHeader(g,e.headers[g]);return s(_,e)===!1?(_.abort(),!1):(e.timeout>0&&(u=setTimeout(function(){_.onreadystatechange=T,_.abort(),l(null,"timeout",_,e)},e.timeout)),_.send(e.data?e.data:null),_)},C.active=0,C.JSONP=function(t){if(!("type"in t))return C(t);var e,n="jsonp"+ ++f,i=p.createElement("script"),r=function(){!d&&n in window&&(window[n]=T),E("abort",o,t)},o={abort:r},a=p.getElementsByTagName("head")[0]||p.documentElement;return t.error&&(i.onerror=function(){o.abort(),t.error()}),d||(window[n]=function(i){clearTimeout(e),delete window[n],h(i,o,t)}),S(t),i.src=t.url.replace(/=\?/,"="+n),a.insertBefore(i,a.firstChild),t.timeout>0&&(e=setTimeout(function(){o.abort(),E("timeout",o,t)},t.timeout)),o},C.settings={type:"GET",beforeSend:T,success:T,error:T,complete:T,context:null,global:!0,xhr:function(){return new u["default"]},accepts:{script:"text/javascript, application/javascript",json:b,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0},C.get=function(t,e){return C({url:t,success:e})},C.post=function(t,e,n,i){return"function"==typeof e&&(i=i||n,n=e,e=null),C({type:"POST",url:t,data:e,success:n,dataType:i})},C.getJSON=function(t,e){return C({url:t,success:e,dataType:"json"})}}()}},{"./XMLHttpRequest":13,"./util":16}],15:[function(t,e,n){"use strict";function i(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,e,n){if("string"!=typeof t)throw new Error("url is incorrect");var o=/^((\w+):\/\/)?(.*)/.exec(t),a=i(o,4),s=a[2],u=void 0===s?"http":s,c=a[3],h=r[u];if(!h)throw new Error('protocol "'+u+'" no support');return h(c,e,n)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,e.exports=n["default"]},{}],16:[function(t,e,n){"use strict";function i(t,e,n,r){var o=e instanceof Array;for(var a in e){var s=e[a];r&&(a=n?r:r+"["+(o?"":a)+"]"),!r&&o?t.add(s.name,s.value):(n?s instanceof Array:"object"==typeof s)?i(t,s,n,a):t.add(a,s)}}function r(t,e){var n=[];return n.add=function(t,e){this.push(a(t)+"="+a(e))},i(n,t,e),n.join("&").replace("%20","+")}function o(t){var e=Array.prototype.slice;return e.call(arguments,1).forEach(function(e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])}),t}Object.defineProperty(n,"__esModule",{value:!0}),n.serialize=i,n.param=r,n.extend=o;var a=encodeURIComponent},{}],17:[function(t,e,n){t("../../modules/es6.array.find-index"),e.exports=t("../../modules/_core").Array.findIndex},{"../../modules/_core":30,"../../modules/es6.array.find-index":86}],18:[function(t,e,n){t("../../modules/es6.array.find"),e.exports=t("../../modules/_core").Array.find},{"../../modules/_core":30,"../../modules/es6.array.find":87}],19:[function(t,e,n){t("../../modules/es6.math.sign"),e.exports=t("../../modules/_core").Math.sign},{"../../modules/_core":30,"../../modules/es6.math.sign":89}],20:[function(t,e,n){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),e.exports=t("../modules/_core").Promise},{"../modules/_core":30,"../modules/es6.object.to-string":90,"../modules/es6.promise":91,"../modules/es6.string.iterator":92,"../modules/web.dom.iterable":93}],21:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],22:[function(t,e,n){var i=t("./_wks")("unscopables"),r=Array.prototype;void 0==r[i]&&t("./_hide")(r,i,{}),e.exports=function(t){r[i][t]=!0}},{"./_hide":41,"./_wks":84}],23:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],24:[function(t,e,n){var i=t("./_is-object");e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":48}],25:[function(t,e,n){var i=t("./_to-iobject"),r=t("./_to-length"),o=t("./_to-index");e.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),h=o(a,c);if(t&&n!=n){for(;c>h;)if(s=u[h++],s!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},{"./_to-index":77,"./_to-iobject":79,"./_to-length":80}],26:[function(t,e,n){var i=t("./_ctx"),r=t("./_iobject"),o=t("./_to-object"),a=t("./_to-length"),s=t("./_array-species-create");e.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l,d=e||s;return function(e,s,p){for(var v,g,m=o(e),_=r(m),y=i(s,p,3),b=a(_.length),x=0,w=n?d(e,b):u?d(e,0):void 0;b>x;x++)if((f||x in _)&&(v=_[x],g=y(v,x,m),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(h)return!1;return l?-1:c||h?h:w}}},{"./_array-species-create":27,"./_ctx":31,"./_iobject":45,"./_to-length":80,"./_to-object":81}],27:[function(t,e,n){var i=t("./_is-object"),r=t("./_is-array"),o=t("./_wks")("species");e.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&(n=n[o],null===n&&(n=void 0))),new(void 0===n?Array:n)(e)}},{"./_is-array":47,"./_is-object":48,"./_wks":84}],28:[function(t,e,n){var i=t("./_cof"),r=t("./_wks")("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};e.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},{"./_cof":29,"./_wks":84}],29:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],30:[function(t,e,n){var i=e.exports={version:"2.2.2"};"number"==typeof __e&&(__e=i)},{}],31:[function(t,e,n){var i=t("./_a-function");e.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":21}],32:[function(t,e,n){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],33:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":37}],34:[function(t,e,n){var i=t("./_is-object"),r=t("./_global").document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{"./_global":39,"./_is-object":48}],35:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],36:[function(t,e,n){var i=t("./_global"),r=t("./_core"),o=t("./_hide"),a=t("./_redefine"),s=t("./_ctx"),u="prototype",c=function(t,e,n){var h,l,f,d,p=t&c.F,v=t&c.G,g=t&c.S,m=t&c.P,_=t&c.B,y=v?i:g?i[e]||(i[e]={}):(i[e]||{})[u],b=v?r:r[e]||(r[e]={}),x=b[u]||(b[u]={});v&&(n=e);for(h in n)l=!p&&y&&void 0!==y[h],f=(l?y:n)[h],d=_&&l?s(f,i):m&&"function"==typeof f?s(Function.call,f):f,y&&a(y,h,f,t&c.U),b[h]!=f&&o(b,h,d),m&&x[h]!=f&&(x[h]=f)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":30,"./_ctx":31,"./_global":39,"./_hide":41,"./_redefine":68}],37:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],38:[function(t,e,n){var i=t("./_ctx"),r=t("./_iter-call"),o=t("./_is-array-iter"),a=t("./_an-object"),s=t("./_to-length"),u=t("./core.get-iterator-method");e.exports=function(t,e,n,c,h){var l,f,d,p=h?function(){return t}:u(t),v=i(n,c,e?2:1),g=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p))for(l=s(t.length);l>g;g++)e?v(a(f=t[g])[0],f[1]):v(t[g]);else for(d=p.call(t);!(f=d.next()).done;)r(d,v,f.value,e)}},{"./_an-object":24,"./_ctx":31,"./_is-array-iter":46,"./_iter-call":49,"./_to-length":80,"./core.get-iterator-method":85}],39:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],40:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],41:[function(t,e,n){var i=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":33,"./_object-dp":59,"./_property-desc":66}],42:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":39}],43:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":33,"./_dom-create":34,"./_fails":37}],44:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],45:[function(t,e,n){var i=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{"./_cof":29}],46:[function(t,e,n){var i=t("./_iterators"),r=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{"./_iterators":54,"./_wks":84}],47:[function(t,e,n){var i=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==i(t)}},{"./_cof":29}],48:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],49:[function(t,e,n){var i=t("./_an-object");e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&i(a.call(t)),o}}},{"./_an-object":24}],50:[function(t,e,n){"use strict";var i=t("./_object-create"),r=t("./_property-desc"),o=t("./_set-to-string-tag"),a={};t("./_hide")(a,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},{"./_hide":41,"./_object-create":58,"./_property-desc":66,"./_set-to-string-tag":71,"./_wks":84}],51:[function(t,e,n){"use strict";var i=t("./_library"),r=t("./_export"),o=t("./_redefine"),a=t("./_hide"),s=t("./_has"),u=t("./_iterators"),c=t("./_iter-create"),h=t("./_set-to-string-tag"),l=t("./_object-gpo"),f=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",v="keys",g="values",m=function(){return this};e.exports=function(t,e,n,_,y,b,x){c(n,e,_);var w,C,E,T=function(t){if(!d&&t in P)return P[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",j=y==g,S=!1,P=t.prototype,A=P[f]||P[p]||y&&P[y],M=A||T(y),O=y?j?T("entries"):M:void 0,L="Array"==e?P.entries||A:A;if(L&&(E=l(L.call(new t)),E!==Object.prototype&&(h(E,k,!0),i||s(E,f)||a(E,f,m))),j&&A&&A.name!==g&&(S=!0,M=function(){return A.call(this)}),i&&!x||!d&&!S&&P[f]||a(P,f,M),u[e]=M,u[k]=m,y)if(w={values:j?M:T(g),keys:b?M:T(v),entries:O},x)for(C in w)C in P||o(P,C,w[C]);else r(r.P+r.F*(d||S),e,w);return w}},{"./_export":36,"./_has":40,"./_hide":41,"./_iter-create":50,"./_iterators":54,"./_library":55,"./_object-gpo":62,"./_redefine":68,"./_set-to-string-tag":71,"./_wks":84}],52:[function(t,e,n){var i=t("./_wks")("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(s){}return n}},{"./_wks":84}],53:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],54:[function(t,e,n){e.exports={}},{}],55:[function(t,e,n){e.exports=!1},{}],56:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},{}],57:[function(t,e,n){var i,r,o,a=t("./_global"),s=t("./_task").set,u=a.MutationObserver||a.WebKitMutationObserver,c=a.process,h=a.Promise,l="process"==t("./_cof")(c),f=function(){var t,e;for(l&&(t=c.domain)&&t.exit();i;)e=i.fn,e(),i=i.next;r=void 0,t&&t.enter()};if(l)o=function(){c.nextTick(f)};else if(u){var d=!0,p=document.createTextNode("");new u(f).observe(p,{characterData:!0}),o=function(){p.data=d=!d}}else o=h&&h.resolve?function(){h.resolve().then(f)}:function(){s.call(a,f)};e.exports=function(t){var e={fn:t,next:void 0};r&&(r.next=e),i||(i=e,o()),r=e}},{"./_cof":29,"./_global":39,"./_task":76}],58:[function(t,e,n){var i=t("./_an-object"),r=t("./_object-dps"),o=t("./_enum-bug-keys"),a=t("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,n=t("./_dom-create")("iframe"),i=o.length,r=">";for(n.style.display="none",t("./_html").appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+r),e.close(),c=e.F;i--;)delete c[u][o[i]];return c()};e.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},{"./_an-object":24,"./_dom-create":34,"./_enum-bug-keys":35,"./_html":42,"./_object-dps":60,"./_shared-key":72}],59:[function(t,e,n){var i=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),a=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":24,"./_descriptors":33,"./_ie8-dom-define":43,"./_to-primitive":82}],60:[function(t,e,n){var i=t("./_object-dp"),r=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,u=0;s>u;)i.f(t,n=a[u++],e[n]);return t}},{"./_an-object":24,"./_descriptors":33,"./_object-dp":59,"./_object-keys":64}],61:[function(t,e,n){var i=t("./_object-pie"),r=t("./_property-desc"),o=t("./_to-iobject"),a=t("./_to-primitive"),s=t("./_has"),u=t("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}return s(t,e)?r(!i.f.call(t,e),t[e]):void 0}},{"./_descriptors":33,"./_has":40,"./_ie8-dom-define":43,"./_object-pie":65,"./_property-desc":66,"./_to-iobject":79,"./_to-primitive":82}],62:[function(t,e,n){var i=t("./_has"),r=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},{"./_has":40,"./_shared-key":72,"./_to-object":81}],63:[function(t,e,n){var i=t("./_has"),r=t("./_to-iobject"),o=t("./_array-includes")(!1),a=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},{"./_array-includes":25,"./_has":40,"./_shared-key":72,"./_to-iobject":79}],64:[function(t,e,n){var i=t("./_object-keys-internal"),r=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return i(t,r)}},{"./_enum-bug-keys":35,"./_object-keys-internal":63}],65:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],66:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],67:[function(t,e,n){var i=t("./_redefine");e.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},{"./_redefine":68}],68:[function(t,e,n){var i=t("./_global"),r=t("./_hide"),o=t("./_has"),a=t("./_uid")("src"),s="toString",u=Function[s],c=(""+u).split(s);t("./_core").inspectSource=function(t){return u.call(t)},(e.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},{"./_core":30,"./_global":39,"./_has":40,"./_hide":41,"./_uid":83}],69:[function(t,e,n){var i=t("./_is-object"),r=t("./_an-object"),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{i=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),i(e,[]),n=!(e instanceof Array)}catch(r){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},{"./_an-object":24,"./_ctx":31,"./_is-object":48,"./_object-gopd":61}],70:[function(t,e,n){"use strict";var i=t("./_global"),r=t("./_object-dp"),o=t("./_descriptors"),a=t("./_wks")("species");e.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":33,"./_global":39,"./_object-dp":59,"./_wks":84}],71:[function(t,e,n){var i=t("./_object-dp").f,r=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{"./_has":40,"./_object-dp":59,"./_wks":84}],72:[function(t,e,n){var i=t("./_shared")("keys"),r=t("./_uid");e.exports=function(t){return i[t]||(i[t]=r(t))}},{"./_shared":73,"./_uid":83}],73:[function(t,e,n){var i=t("./_global"),r="__core-js_shared__",o=i[r]||(i[r]={});e.exports=function(t){return o[t]||(o[t]={})}},{"./_global":39}],74:[function(t,e,n){var i=t("./_an-object"),r=t("./_a-function"),o=t("./_wks")("species");e.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},{"./_a-function":21,"./_an-object":24,"./_wks":84}],75:[function(t,e,n){var i=t("./_to-integer"),r=t("./_defined");e.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return 0>u||u>=c?t?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},{"./_defined":32,"./_to-integer":78}],76:[function(t,e,n){var i,r,o,a=t("./_ctx"),s=t("./_invoke"),u=t("./_html"),c=t("./_dom-create"),h=t("./_global"),l=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,v=0,g={},m="onreadystatechange",_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},y=function(t){_.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},d=function(t){delete g[t]},"process"==t("./_cof")(l)?i=function(t){l.nextTick(a(_,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(i=function(t){h.postMessage(t+"","*")},h.addEventListener("message",y,!1)):i=m in c("script")?function(t){u.appendChild(c("script"))[m]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),e.exports={set:f,clear:d}},{"./_cof":29,"./_ctx":31,"./_dom-create":34,"./_global":39,"./_html":42,"./_invoke":44}],77:[function(t,e,n){var i=t("./_to-integer"),r=Math.max,o=Math.min;e.exports=function(t,e){return t=i(t),0>t?r(t+e,0):o(t,e)}},{"./_to-integer":78}],78:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},{}],79:[function(t,e,n){var i=t("./_iobject"),r=t("./_defined");e.exports=function(t){return i(r(t))}},{"./_defined":32,"./_iobject":45}],80:[function(t,e,n){var i=t("./_to-integer"),r=Math.min;e.exports=function(t){return t>0?r(i(t),9007199254740991):0}},{"./_to-integer":78}],81:[function(t,e,n){var i=t("./_defined");e.exports=function(t){return Object(i(t))}},{"./_defined":32}],82:[function(t,e,n){var i=t("./_is-object");e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":48}],83:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],84:[function(t,e,n){var i=t("./_shared")("wks"),r=t("./_uid"),o=t("./_global").Symbol,a="function"==typeof o;e.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}},{"./_global":39,"./_shared":73,"./_uid":83}],85:[function(t,e,n){var i=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){return void 0!=t?t[r]||t["@@iterator"]||o[i(t)]:void 0}},{"./_classof":28,"./_core":30,"./_iterators":54,"./_wks":84}],86:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":22,"./_array-methods":26,"./_export":36}],87:[function(t,e,n){"use strict";var i=t("./_export"),r=t("./_array-methods")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":22,"./_array-methods":26,"./_export":36}],88:[function(t,e,n){"use strict";var i=t("./_add-to-unscopables"),r=t("./_iter-step"),o=t("./_iterators"),a=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"./_add-to-unscopables":22,"./_iter-define":51,"./_iter-step":53,"./_iterators":54,"./_to-iobject":79}],89:[function(t,e,n){var i=t("./_export");i(i.S,"Math",{sign:t("./_math-sign")})},{"./_export":36,"./_math-sign":56}],90:[function(t,e,n){"use strict";var i=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{"./_classof":28,"./_redefine":68,"./_wks":84}],91:[function(t,e,n){"use strict";var i,r,o,a=t("./_library"),s=t("./_global"),u=t("./_ctx"),c=t("./_classof"),h=t("./_export"),l=t("./_is-object"),f=(t("./_an-object"),t("./_a-function")),d=t("./_an-instance"),p=t("./_for-of"),v=(t("./_set-proto").set,t("./_species-constructor")),g=t("./_task").set,m=t("./_microtask"),_="Promise",y=s.TypeError,b=s.process,x=s[_],b=s.process,w="process"==c(b),C=function(){},E=!!function(){try{var e=x.resolve(1),n=(e.constructor={})[t("./_wks")("species")]=function(t){t(C,C)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof n}catch(i){}}(),T=function(t,e){return t===e||t===x&&e===o},k=function(t){var e;return l(t)&&"function"==typeof(e=t.then)?e:!1},j=function(t){return T(x,t)?new S(t):new r(t)},S=r=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw y("Bad Promise constructor");e=t,n=i}),this.resolve=f(e),this.reject=f(n)},P=function(t){try{t()}catch(e){return{error:e}}},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a=r?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(r||(2==t._h&&L(t),t._h=1),a===!0?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===e.promise?u(y("Promise-chain cycle")):(o=k(n))?o.call(n,s,u):s(n)):u(i)}catch(h){u(h)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){g.call(s,function(){var e,n,i,r=t._v;if(O(t)&&(e=P(function(){w?b.emit("unhandledRejection",r,t):(n=s.onunhandledrejection)?n({promise:t,reason:r}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=w||O(t)?2:1),t._a=void 0,e)throw e.error})},O=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if(e=n[i++],e.fail||!O(e.promise))return!1;return!0},L=function(t){g.call(s,function(){var e;w?b.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},J=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw y("Promise can't be resolved itself");(e=k(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,u(J,i,1),u(R,i,1))}catch(r){R.call(i,r)}}):(n._v=t,n._s=1,A(n,!1))}catch(i){R.call({_w:n,_d:!1},i)}}};E||(x=function(t){d(this,x,_,"_h"),f(t),i.call(this);try{t(u(J,this,1),u(R,this,1))}catch(e){R.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=t("./_redefine-all")(x.prototype,{then:function(t,e){var n=j(v(this,x));return n.ok="function"==typeof t?t:!0,n.fail="function"==typeof e&&e,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),S=function(){var t=new i;this.promise=t,this.resolve=u(J,t,1),this.reject=u(R,t,1)}),h(h.G+h.W+h.F*!E,{Promise:x}),t("./_set-to-string-tag")(x,_),t("./_set-species")(_),o=t("./_core")[_],h(h.S+h.F*!E,_,{reject:function(t){var e=j(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(a||!E),_,{resolve:function(t){if(t instanceof x&&T(t.constructor,this))return t;var e=j(this),n=e.resolve;return n(t),e.promise}}),h(h.S+h.F*!(E&&t("./_iter-detect")(function(t){x.all(t)["catch"](C)})),_,{all:function(t){var e=this,n=j(e),i=n.resolve,r=n.reject,o=P(function(){var n=[],o=0,a=1;p(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o&&r(o.error),n.promise},race:function(t){var e=this,n=j(e),i=n.reject,r=P(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r&&i(r.error),n.promise}})},{"./_a-function":21,"./_an-instance":23,"./_an-object":24,"./_classof":28,"./_core":30,"./_ctx":31,"./_export":36,"./_for-of":38,"./_global":39,"./_is-object":48,"./_iter-detect":52,"./_library":55,"./_microtask":57,"./_redefine-all":67,"./_set-proto":69,"./_set-species":70,"./_set-to-string-tag":71,"./_species-constructor":74,"./_task":76,"./_wks":84}],92:[function(t,e,n){"use strict";var i=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":51,"./_string-at":75}],93:[function(t,e,n){for(var i=t("./es6.array.iterator"),r=t("./_redefine"),o=t("./_global"),a=t("./_hide"),s=t("./_iterators"),u=t("./_wks"),c=u("iterator"),h=u("toStringTag"),l=s.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;5>d;d++){var p,v=f[d],g=o[v],m=g&&g.prototype;if(m){m[c]||a(m,c,l),m[h]||a(m,h,v),s[v]=l;for(p in i)m[p]||r(m,p,i[p],!0)}}},{"./_global":39,"./_hide":41,"./_iterators":54,"./_redefine":68,"./_wks":84,"./es6.array.iterator":88}]},{},[6]);